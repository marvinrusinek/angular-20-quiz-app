<ng-container class="timer-container">
  <div class="timer-menu-container">
    <button
      mat-button
      [matMenuTriggerFor]="timerMenu"
      style="margin: 5px"
      aria-label="Timer menu"
    >
      <span class="timer-menu-button-text leader" i18n style="padding: 5px 10px"
        >Timer &#x25BC;</span
      >
    </button>
    <mat-menu #timerMenu="matMenu">
      <button
        mat-menu-item
        (click)="setTimerType(timerType.Countdown)"
        aria-label="Set to Countdown"
        i18n
      >
        Countdown
      </button>
      <button
        mat-menu-item
        (click)="setTimerType(timerType.Stopwatch)"
        aria-label="Set to Stopwatch"
        i18n
      >
        Stopwatch
      </button>
    </mat-menu>
  </div>
  <section class="scoreboard-timer">
    <span class="scoreboard" i18n
      >0:{{ timeLeft$ | async | number: '2.0-0' }}</span
    >
    <!-- VISUAL DEBUG: This will flash to prove timer is updating -->
    <div *ngIf="timerService.isTimerRunning" 
         style="position: absolute; right: -50px; top: 0; 
                background: lime; color: black; padding: 2px 5px; 
                font-size: 10px; font-weight: bold; 
                animation: blink 0.5s infinite;">
      RUNNING
    </div>
    <div *ngIf="!timerService.isTimerRunning" 
         style="position: absolute; right: -50px; top: 0; 
                background: red; color: white; padding: 2px 5px; 
                font-size: 10px; font-weight: bold;">
      STOPPED
    </div>
  </section>
</ng-container>
